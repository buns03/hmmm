<!DOCTYPE html>
<html lang="en">
<head> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<meta charset="UTF-8">
<title>Cute Pastel Calculator</title>

<style>
  body {
    background: linear-gradient(135deg, #fce7f3, #e0f2fe);
    font-family: "Poppins", sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
  }

  .calculator, .result-screen {
    background: white;
    padding: 25px;
    border-radius: 30px;
    width: 330px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    text-align: center;
  }

  .display {
    background: #fde2e4;
    border-radius: 20px;
    padding: 15px;
    margin-bottom: 15px;
    text-align: right;
    font-size: 1.8rem;
    color: #7a4a58;
  }

  .buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
  }

  button {
    border: none;
    border-radius: 50%;
    padding: 15px;
    font-size: 1.1rem;
    cursor: pointer;
    background: #fbcfe8;
    color: #7a4a58;
    transition: 0.2s ease;
    box-shadow: 0 5px 10px rgba(0,0,0,0.1);
  }

  button:hover {
    transform: scale(1.08);
  }

  .operator { background: #c7d2fe; }
  .equals {
    background: #bbf7d0;
    grid-column: span 2;
    border-radius: 30px;
  }
  .clear { background: #fecaca; }

  .hidden { display: none; }

  .lyrics {
    min-height: 60px;
    font-size: 1.2rem;
    color: #7a4a58;
    letter-spacing: 1px;
  }

  .cursor {
    display: inline-block;
    width: 2px;
    background: #ec4899;
    animation: blink 1s infinite;
    margin-left: 4px;
  }

  @keyframes blink {
    50% { opacity: 0; }
  }

  /* ðŸ“± MOBILE RESPONSIVENESS */
@media (max-width: 480px) {
  body {
    padding: 10px;
  }

  .calculator, .result-screen {
    width: 100%;
    max-width: 320px;
    padding: 20px;
    border-radius: 25px;
  }

  .display {
    font-size: 1.5rem;
    padding: 12px;
  }

  .buttons {
    gap: 10px;
  }

  button {
    padding: 14px;
    font-size: 1rem;
  }

  .equals {
    padding: 14px;
    font-size: 1.1rem;
  }

  .lyrics {
    font-size: 1rem;
    min-height: 50px;
    margin-top: 10px;
  }
}

/* ðŸ“± EXTRA SMALL PHONES */
@media (max-height: 600px) {
  body {
    align-items: flex-start;
    padding-top: 20px;
  }

  .calculator, .result-screen {
    margin-top: 10px;
  }
}

</style>
</head>

<body>

<!-- ðŸŒ¸ CALCULATOR -->
<div class="calculator" id="calculator">
  <div class="display" id="display">
    <!-- ðŸ’– INPUT DISPLAY CODE IS HERE ðŸ’– -->
    0
  </div>

  <div class="buttons">
    <button class="clear" onclick="clearDisplay()">C</button>
    <button class="operator" onclick="appendValue('/')">Ã·</button>
    <button class="operator" onclick="appendValue('*')">Ã—</button>
    <button class="operator" onclick="appendValue('-')">âˆ’</button>

    <button onclick="appendValue('7')">7</button>
    <button onclick="appendValue('8')">8</button>
    <button onclick="appendValue('9')">9</button>
    <button class="operator" onclick="appendValue('+')">+</button>

    <button onclick="appendValue('4')">4</button>
    <button onclick="appendValue('5')">5</button>
    <button onclick="appendValue('6')">6</button>
    <button onclick="appendValue('.')">.</button>

    <button onclick="appendValue('1')">1</button>
    <button onclick="appendValue('2')">2</button>
    <button onclick="appendValue('3')">3</button>
    <button class="equals" onclick="calculate()">=</button>

    <button onclick="appendValue('0')">0</button>
  </div>
</div>

<!-- ðŸ’• LYRICS SCREEN -->
<div class="result-screen hidden" id="resultScreen">

  <div class="lyrics">
    <span id="lyricText"></span><span class="cursor"></span>
  </div>

  <audio id="music" src="pusong-ligaw.mp3"></audio>
</div>

<script>
  const display = document.getElementById("display");
  const calculator = document.getElementById("calculator");
  const resultScreen = document.getElementById("resultScreen");
  const music = document.getElementById("music");
  const lyricText = document.getElementById("lyricText");

  function appendValue(value) {
    display.innerText = display.innerText === "0"
      ? value
      : display.innerText + value;
  }

  function clearDisplay() {
    display.innerText = "0";
  }

  function calculate() {

    calculator.classList.add("hidden");
    resultScreen.classList.remove("hidden");

    music.currentTime = 74; 
    music.play();
  }

  const lyrics = [
    { time: 74, text: "Ikaw pa rin ang hanap ng pusong ligaw" },
    { time: 81, text: "Ikaw ang patutunguhan at pupuntahan" },
    { time: 89, text: "Pag-ibig mo ang hanap ng pusong ligaw" },
    { time: 96, text: "Mula noon, bukas, at kailanman" }
  ];


  let currentIndex = -1;
  let typingInterval;

  function typeWriter(text) {
    clearInterval(typingInterval);
    lyricText.innerText = "";
    let i = 0;

    typingInterval = setInterval(() => {
      if (i < text.length) {
        lyricText.innerText += text.charAt(i);
        i++;
      } else {
        clearInterval(typingInterval);
      }
    }, 80); // âŒ¨ï¸ typing speed
  }

  music.addEventListener("timeupdate", () => {
    const time = Math.floor(music.currentTime);

    if (time >= 105) {
      music.pause();
      music.currentTime = 100;
      return;
    }

    if (
      currentIndex + 1 < lyrics.length &&
      time >= lyrics[currentIndex + 1].time
    ) {
      currentIndex++;
      typeWriter(lyrics[currentIndex].text);
    }
  });
</script>

</body>
</html>
